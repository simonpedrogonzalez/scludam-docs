<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>scludam.fetcher module &mdash; scludam 0.3.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="scludam.hkde module" href="scludam.hkde.html" />
    <link rel="prev" title="scludam.detection module" href="scludam.detection.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> scludam
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="readme.html">SCLUDAM (<strong>S</strong>tar <strong>CLU</strong>ster <strong>D</strong>etection <strong>A</strong>nd <strong>M</strong>embership estimation)</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">scludam</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="scludam.html">scludam package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="scludam.html#submodules">Submodules</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="scludam.detection.html">scludam.detection module</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">scludam.fetcher module</a></li>
<li class="toctree-l4"><a class="reference internal" href="scludam.hkde.html">scludam.hkde module</a></li>
<li class="toctree-l4"><a class="reference internal" href="scludam.masker.html">scludam.masker module</a></li>
<li class="toctree-l4"><a class="reference internal" href="scludam.membership.html">scludam.membership module</a></li>
<li class="toctree-l4"><a class="reference internal" href="scludam.pipeline.html">scludam.pipeline module</a></li>
<li class="toctree-l4"><a class="reference internal" href="scludam.plots.html">scludam.plots module</a></li>
<li class="toctree-l4"><a class="reference internal" href="scludam.rutils.html">scludam.rutils module</a></li>
<li class="toctree-l4"><a class="reference internal" href="scludam.shdbscan.html">scludam.shdbscan module</a></li>
<li class="toctree-l4"><a class="reference internal" href="scludam.stat_tests.html">scludam.stat_tests module</a></li>
<li class="toctree-l4"><a class="reference internal" href="scludam.synthetic.html">scludam.synthetic module</a></li>
<li class="toctree-l4"><a class="reference internal" href="scludam.type_utils.html">scludam.type_utils module</a></li>
<li class="toctree-l4"><a class="reference internal" href="scludam.utils.html">scludam.utils module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="scludam.html#module-scludam">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="diagrams.html">Software diagrams</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">scludam</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="modules.html">scludam</a> &raquo;</li>
          <li><a href="scludam.html">scludam package</a> &raquo;</li>
      <li>scludam.fetcher module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/scludam.fetcher.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-scludam.fetcher">
<span id="scludam-fetcher-module"></span><h1>scludam.fetcher module<a class="headerlink" href="#module-scludam.fetcher" title="Permalink to this heading"></a></h1>
<p>Module for remote catalog data fetching.</p>
<p>The module provides functions for searching objects and tables, and to
fetch the data from the remote catalog. Currently the data fetching
supports the GAIA catalogues. Object searching is done using the
Simbad service.</p>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">scludam</span> <span class="kn">import</span> <span class="n">Query</span><span class="p">,</span> <span class="n">search_object</span><span class="p">,</span> <span class="n">search_table</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="n">iden</span> <span class="o">=</span> <span class="s2">&quot;ngc2527&quot;</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="c1"># search object to get some general information</span>
<span class="linenos"> 6</span><span class="n">object_info</span> <span class="o">=</span> <span class="n">search_object</span><span class="p">(</span><span class="n">iden</span><span class="p">)</span>
<span class="linenos"> 7</span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Object found in </span><span class="si">{</span><span class="n">object_info</span><span class="o">.</span><span class="n">coords</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="linenos"> 8</span><span class="n">object_info</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
<span class="linenos"> 9</span>    <span class="sa">f</span><span class="s2">&quot;examples/</span><span class="si">{</span><span class="n">iden</span><span class="si">}</span><span class="s2">_object_metadata.txt&quot;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;ascii&quot;</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">True</span>
<span class="linenos">10</span><span class="p">)</span>
<span class="linenos">11</span>
<span class="linenos">12</span><span class="n">default_table</span> <span class="o">=</span> <span class="n">Query</span><span class="p">()</span><span class="o">.</span><span class="n">table</span>
<span class="linenos">13</span>
<span class="linenos">14</span><span class="c1"># search the default table information (gaia edr3)</span>
<span class="linenos">15</span><span class="n">tables</span> <span class="o">=</span> <span class="n">search_table</span><span class="p">(</span><span class="n">default_table</span><span class="p">)</span>
<span class="linenos">16</span><span class="n">first_table</span> <span class="o">=</span> <span class="n">tables</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="linenos">17</span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;name: </span><span class="si">{</span><span class="n">first_table</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="se">\n</span><span class="s2"> description: </span><span class="si">{</span><span class="n">first_table</span><span class="o">.</span><span class="n">description</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="linenos">18</span><span class="n">first_table</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
<span class="linenos">19</span>    <span class="sa">f</span><span class="s2">&quot;examples/</span><span class="si">{</span><span class="n">default_table</span><span class="si">}</span><span class="s2">_columns_metadata.txt&quot;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;ascii&quot;</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">True</span>
<span class="linenos">20</span><span class="p">)</span>
<span class="linenos">21</span>
<span class="linenos">22</span><span class="c1"># create query around object</span>
<span class="linenos">23</span><span class="n">query</span> <span class="o">=</span> <span class="p">(</span>
<span class="linenos">24</span>    <span class="n">Query</span><span class="p">()</span>
<span class="linenos">25</span>    <span class="o">.</span><span class="n">select</span><span class="p">(</span>
<span class="linenos">26</span>        <span class="s2">&quot;ra&quot;</span><span class="p">,</span>
<span class="linenos">27</span>        <span class="s2">&quot;dec&quot;</span><span class="p">,</span>
<span class="linenos">28</span>        <span class="s2">&quot;ra_error&quot;</span><span class="p">,</span>
<span class="linenos">29</span>        <span class="s2">&quot;dec_error&quot;</span><span class="p">,</span>
<span class="linenos">30</span>        <span class="s2">&quot;ra_dec_corr&quot;</span><span class="p">,</span>
<span class="linenos">31</span>        <span class="s2">&quot;pmra&quot;</span><span class="p">,</span>
<span class="linenos">32</span>        <span class="s2">&quot;pmra_error&quot;</span><span class="p">,</span>
<span class="linenos">33</span>        <span class="s2">&quot;ra_pmra_corr&quot;</span><span class="p">,</span>
<span class="linenos">34</span>        <span class="s2">&quot;dec_pmra_corr&quot;</span><span class="p">,</span>
<span class="linenos">35</span>        <span class="s2">&quot;pmdec&quot;</span><span class="p">,</span>
<span class="linenos">36</span>        <span class="s2">&quot;pmdec_error&quot;</span><span class="p">,</span>
<span class="linenos">37</span>        <span class="s2">&quot;ra_pmdec_corr&quot;</span><span class="p">,</span>
<span class="linenos">38</span>        <span class="s2">&quot;dec_pmdec_corr&quot;</span><span class="p">,</span>
<span class="linenos">39</span>        <span class="s2">&quot;pmra_pmdec_corr&quot;</span><span class="p">,</span>
<span class="linenos">40</span>        <span class="s2">&quot;parallax&quot;</span><span class="p">,</span>
<span class="linenos">41</span>        <span class="s2">&quot;parallax_error&quot;</span><span class="p">,</span>
<span class="linenos">42</span>        <span class="s2">&quot;parallax_pmra_corr&quot;</span><span class="p">,</span>
<span class="linenos">43</span>        <span class="s2">&quot;parallax_pmdec_corr&quot;</span><span class="p">,</span>
<span class="linenos">44</span>        <span class="s2">&quot;ra_parallax_corr&quot;</span><span class="p">,</span>
<span class="linenos">45</span>        <span class="s2">&quot;dec_parallax_corr&quot;</span><span class="p">,</span>
<span class="linenos">46</span>        <span class="s2">&quot;phot_g_mean_mag&quot;</span><span class="p">,</span>
<span class="linenos">47</span>    <span class="p">)</span>
<span class="linenos">48</span>    <span class="o">.</span><span class="n">where_in_circle</span><span class="p">(</span><span class="n">iden</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">)</span>
<span class="linenos">49</span>    <span class="o">.</span><span class="n">where</span><span class="p">(</span>
<span class="linenos">50</span>        <span class="p">[</span>
<span class="linenos">51</span>            <span class="p">(</span><span class="s2">&quot;parallax&quot;</span><span class="p">,</span> <span class="s2">&quot;&gt;&quot;</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">),</span>
<span class="linenos">52</span>            <span class="p">(</span><span class="s2">&quot;phot_g_mean_mag&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="mi">18</span><span class="p">),</span>
<span class="linenos">53</span>        <span class="p">]</span>
<span class="linenos">54</span>    <span class="p">)</span>
<span class="linenos">55</span>    <span class="c1"># low noise_sig means &quot;do not rely on excess noise, do not check it&quot;</span>
<span class="linenos">56</span>    <span class="c1"># high noise_sig means &quot;you should check that excess noise is small&quot;</span>
<span class="linenos">57</span>    <span class="o">.</span><span class="n">where_arenou_criterion</span><span class="p">()</span>
<span class="linenos">58</span>    <span class="o">.</span><span class="n">where_aen_criterion</span><span class="p">()</span>
<span class="linenos">59</span><span class="p">)</span>
<span class="linenos">60</span>
<span class="linenos">61</span><span class="c1"># count the number of rows that will be received if query is executed</span>
<span class="linenos">62</span><span class="n">count</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="linenos">63</span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Stars found: </span><span class="si">{</span><span class="n">count</span><span class="p">[</span><span class="s2">&quot;count_all&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">64</span>
<span class="linenos">65</span><span class="c1"># execute query and save data</span>
<span class="linenos">66</span><span class="n">data</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="linenos">67</span><span class="n">data</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;examples/</span><span class="si">{</span><span class="n">iden</span><span class="si">}</span><span class="s2">_data.xml&quot;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;votable&quot;</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Options for each function and class in the example are described
in the documentation below.</p>
<dl class="py class">
<dt class="sig sig-object py" id="scludam.fetcher.Config">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scludam.fetcher.</span></span><span class="sig-name descname"><span class="pre">Config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">MAIN_GAIA_TABLE</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'gaiadr3.gaia_source'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">MAIN_GAIA_RA</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'ra'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">MAIN_GAIA_DEC</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'dec'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ROW_LIMIT</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">MAIN_GAIA_ASTROMETRIC_EXCESS_NOISE</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'astrometric_excess_noise'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">MAIN_GAIA_ASTROMETRIC_EXCESS_NOISE_SIG</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'astrometric_excess_noise_sig'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">MAIN_GAIA_BP_RP</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'bp_rp'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">MAIN_GAIA_BP_RP_EXCESS_FACTOR</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'phot_bp_rp_excess_factor'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scludam/fetcher.html#Config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scludam.fetcher.Config" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class to hold defaults for a query.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scludam.fetcher.SimbadResult">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scludam.fetcher.</span></span><span class="sig-name descname"><span class="pre">SimbadResult</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coords</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">SkyCoord</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Table</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scludam/fetcher.html#SimbadResult"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scludam.fetcher.SimbadResult" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class to hold the result of a search_object query.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>table</strong> (<em>astropy.table.Table</em>) – The table with the results of the query.</p></li>
<li><p><strong>coords</strong> (<em>astropy.coordinates.SkyCoord</em>) – The coordinates of the object in ICRS system.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scludam.fetcher.search_object">
<span class="sig-prename descclassname"><span class="pre">scludam.fetcher.</span></span><span class="sig-name descname"><span class="pre">search_object</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifier</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">['coordinates',</span> <span class="pre">'parallax',</span> <span class="pre">'propermotions',</span> <span class="pre">'velocity',</span> <span class="pre">'dimensions',</span> <span class="pre">'diameter']</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scludam/fetcher.html#search_object"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scludam.fetcher.search_object" title="Permalink to this definition"></a></dt>
<dd><p>Search an identifier in Simbad catalogues.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>identifier</strong> (<em>str</em>) – Simbad identifier.</p></li>
<li><p><strong>cols</strong> (<em>List[str], optional</em>) – Columns to be included in the result, by default
[ “coordinates”, “parallax”, “propermotions”,
“velocity”, “dimensions”, “diameter”, ]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Object with the search results</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#scludam.fetcher.SimbadResult" title="scludam.fetcher.SimbadResult">SimbadResult</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scludam.fetcher.TableInfo">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scludam.fetcher.</span></span><span class="sig-name descname"><span class="pre">TableInfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Table</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scludam/fetcher.html#TableInfo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scludam.fetcher.TableInfo" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class to hold the result of a search_table query.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name of the table.</p></li>
<li><p><strong>columns</strong> (<em>astropy.table.Table</em>) – Table with the information of the columns of the table.</p></li>
<li><p><strong>description</strong> (<em>str</em>) – Description of the table.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scludam.fetcher.search_table">
<span class="sig-prename descclassname"><span class="pre">scludam.fetcher.</span></span><span class="sig-name descname"><span class="pre">search_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">search_query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scludam/fetcher.html#search_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scludam.fetcher.search_table" title="Permalink to this definition"></a></dt>
<dd><p>List available tables in gaia catalogue matching a search query.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>search_query</strong> (<em>str, optional</em>) – query to match, by default <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>only_names</strong> (<em>bool, optional</em>) – return only table names and descriptions, by default <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of tables found.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[<a class="reference internal" href="#scludam.fetcher.TableInfo" title="scludam.fetcher.TableInfo">TableInfo</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scludam.fetcher.Query">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scludam.fetcher.</span></span><span class="sig-name descname"><span class="pre">Query</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'gaiadr3.gaia_source'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row_limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">NOTHING</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">NOTHING</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conditions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Number</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">NOTHING</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orderby</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scludam/fetcher.html#Query"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scludam.fetcher.Query" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class to hold an ADQL query to be executed.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>table</strong> (<em>str</em>) – Name of the table to be queried, by default given by Config.MAIN_GAIA_TABLE</p></li>
<li><p><strong>row_limit</strong> (<em>int</em>) – Maximum number of rows to be returned, by default given by Config.ROW_LIMIT</p></li>
<li><p><strong>conditions</strong> (<em>List</em><em>[</em><em>LogicalExpression</em><em>]</em>) – List of conditions to be applied to the query, by default []</p></li>
<li><p><strong>columns</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – List of columns to be returned, by default [], meaning all.</p></li>
<li><p><strong>extra_columns</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – List of extra columns to be included in the query given by custom
conditions, by default []</p></li>
<li><p><strong>orderby</strong> (<em>str</em>) – Column to be used for ordering.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>It is recommended to not manually set the attributes of this class,
except for <code class="docutils literal notranslate"><span class="pre">table</span></code>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="scludam.fetcher.Query.select">
<span class="sig-name descname"><span class="pre">select</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scludam/fetcher.html#Query.select"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scludam.fetcher.Query.select" title="Permalink to this definition"></a></dt>
<dd><p>Add columns to query.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>*args</strong> (<em>str</em>) – Columns to be included in the query.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>instance of query.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#scludam.fetcher.Query" title="scludam.fetcher.Query">Query</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scludam.fetcher.Query.top">
<span class="sig-name descname"><span class="pre">top</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">row_limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scludam/fetcher.html#Query.top"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scludam.fetcher.Query.top" title="Permalink to this definition"></a></dt>
<dd><p>Set the number of rows to be returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>row_limit</strong> (<em>int</em>) – number of rows to be returned.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>instance of query.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#scludam.fetcher.Query" title="scludam.fetcher.Query">Query</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scludam.fetcher.Query.where">
<span class="sig-name descname"><span class="pre">where</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Number</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Number</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scludam/fetcher.html#Query.where"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scludam.fetcher.Query.where" title="Permalink to this definition"></a></dt>
<dd><p>Add a condition to the query.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>condition</strong> (<em>Union[Condition, List[Condition]]</em>) – Condition or list of Conditions to be added to the query.
Each Condition is a tuple of the form
(expression1, operator, expression2): (str, str, Union[str, Number])</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>instance of query.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#scludam.fetcher.Query" title="scludam.fetcher.Query">Query</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scludam.fetcher.Query.where_or">
<span class="sig-name descname"><span class="pre">where_or</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Number</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Number</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scludam/fetcher.html#Query.where_or"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scludam.fetcher.Query.where_or" title="Permalink to this definition"></a></dt>
<dd><p>Add conditions to the query following in CNF.</p>
<p>CNF is conjunctive normal form: AND (c1 OR c2 OR …).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>condition</strong> (<em>Union[Condition, List[Condition]]</em>) – Condition or list of Conditions to be added to the query.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>instance of query.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#scludam.fetcher.Query" title="scludam.fetcher.Query">Query</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scludam.fetcher.Query.where_in_circle">
<span class="sig-name descname"><span class="pre">where_in_circle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coords_or_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Number</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Number</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">SkyCoord</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Quantity</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ra_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'ra'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'dec'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scludam/fetcher.html#Query.where_in_circle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scludam.fetcher.Query.where_in_circle" title="Permalink to this definition"></a></dt>
<dd><p>Add a condition to the query to select objects within a circle.</p>
<p>The circle is drawn in the spherical coordinates space (ra, dec). It also adds
the dist (distance from the center) column to column list and adds orderby
distance to the query.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coords_or_name</strong> (<em>Union[Coord, SkyCoord, str]</em>) – Coordinates of the center of the circle or name of the identifier to be
searched using search_object.</p></li>
<li><p><strong>radius</strong> (<em>Union[int, float, astropy.units.quantity.Quantity]</em>) – value of the radius of the circle. If int or float, its taken as degrees.</p></li>
<li><p><strong>ra_name</strong> (<em>str, optional</em>) – ra column name, by default config.MAIN_GAIA_RA</p></li>
<li><p><strong>dec_name</strong> (<em>str, optional</em>) – dec column name, by default config.MAIN_GAIA_DEC</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>instance of query.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#scludam.fetcher.Query" title="scludam.fetcher.Query">Query</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scludam.fetcher.Query.where_aen_criterion">
<span class="sig-name descname"><span class="pre">where_aen_criterion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">aen_value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Number</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aen_sig_value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Number</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aen_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'astrometric_excess_noise'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aen_sig_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'astrometric_excess_noise_sig'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scludam/fetcher.html#Query.where_aen_criterion"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scludam.fetcher.Query.where_aen_criterion" title="Permalink to this definition"></a></dt>
<dd><p>Add astrometric excess noise rejection criterion based on GAIA criteria.</p>
<p>It also adds the aen and aen_sig columns to column list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>aen_value</strong> (<em>Number, optional</em>) – astrometric excess noise threshold value, by default 2</p></li>
<li><p><strong>aen_sig_value</strong> (<em>Number, optional</em>) – astrometric excess noise score threshold value, by default 2</p></li>
<li><p><strong>aen_name</strong> (<em>str, optional</em>) – column name for astrometric excess noise, by default
config.MAIN_GAIA_ASTROMETRIC_EXCESS_NOISE</p></li>
<li><p><strong>aen_sig_name</strong> (<em>str, optional</em>) – column name for astrometric escess noise score, by default
config.MAIN_GAIA_ASTROMETRIC_EXCESS_NOISE_SIG</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>instance of query</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#scludam.fetcher.Query" title="scludam.fetcher.Query">Query</a></p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The criteria <a class="footnote-reference brackets" href="#id2" id="id1">1</a> used is:
*  exclude objects if
*   <code class="docutils literal notranslate"><span class="pre">astrometric_excess_noise_score</span> <span class="pre">&gt;</span> <span class="pre">aen_sig_value</span> <span class="pre">AND</span></code>
*   <code class="docutils literal notranslate"><span class="pre">astrometric_excess_noise</span> <span class="pre">&gt;</span> <span class="pre">aen_value</span></code></p>
<p class="rubric">References</p>
<dl class="footnote brackets">
<dt class="label" id="id2"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>GAIA Team (2021). GAIA EDR3 data model
. <a class="reference external" href="https://gea.esac.esa.int/archive/documentation/GEDR3/Gaia_archive/chap_datamodel/sec_dm_main_tables/ssec_dm_gaia_source.html">https://gea.esac.esa.int/archive/documentation/GEDR3/Gaia_archive/chap_datamodel/sec_dm_main_tables/ssec_dm_gaia_source.html</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scludam.fetcher.Query.where_arenou_criterion">
<span class="sig-name descname"><span class="pre">where_arenou_criterion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bp_rp_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'bp_rp'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bp_rp_ef_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'phot_bp_rp_excess_factor'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scludam/fetcher.html#Query.where_arenou_criterion"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scludam.fetcher.Query.where_arenou_criterion" title="Permalink to this definition"></a></dt>
<dd><p>Add rejection criterion based on Arenou et al. (2018).</p>
<p>It also adds the bp_rp and bp_rp_ef columns to column list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bp_rp_name</strong> (<em>str, optional</em>) – bp_rp column name, by default config.MAIN_GAIA_BP_RP</p></li>
<li><p><strong>bp_rp_ef_name</strong> (<em>str, optional</em>) – bp_rp excess factor column name, by default
config.MAIN_GAIA_BP_RP_EXCESS_FACTOR</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>instance of query</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#scludam.fetcher.Query" title="scludam.fetcher.Query">Query</a></p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The criteria <a class="footnote-reference brackets" href="#id4" id="id3">2</a> used is:
*  include objects if: <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">+</span> <span class="pre">0.015(BP-RP)^2</span> <span class="pre">&lt;</span> <span class="pre">E</span> <span class="pre">&lt;1.3</span> <span class="pre">+</span> <span class="pre">0.006(BP-RP)^2</span></code>
*   where <code class="docutils literal notranslate"><span class="pre">E</span></code> is photometric BP-RP excess factor.</p>
<p class="rubric">References</p>
<dl class="footnote brackets">
<dt class="label" id="id4"><span class="brackets"><a class="fn-backref" href="#id3">2</a></span></dt>
<dd><p>Arenou et al. (2018).  Gaia Data Release 2.
A&amp;A 616, A17. <a class="reference external" href="https://doi.org/10.1051/0004-6361/201833234">https://doi.org/10.1051/0004-6361/201833234</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scludam.fetcher.Query.build_count">
<span class="sig-name descname"><span class="pre">build_count</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scludam/fetcher.html#Query.build_count"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scludam.fetcher.Query.build_count" title="Permalink to this definition"></a></dt>
<dd><p>Build the count query.</p>
<p>It allows to preview a query without executing it.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>string query in ADQL.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scludam.fetcher.Query.build">
<span class="sig-name descname"><span class="pre">build</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scludam/fetcher.html#Query.build"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scludam.fetcher.Query.build" title="Permalink to this definition"></a></dt>
<dd><p>Build the query.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>string query in ADQL.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scludam.fetcher.Query.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scludam/fetcher.html#Query.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scludam.fetcher.Query.get" title="Permalink to this definition"></a></dt>
<dd><p>Execute the query.</p>
<p>It launches an asynchronous gaia job. It takes some time to execute the
query and parse the results. Parameters are passed through kwargs to
astroquery.gaia.Gaia.launch_job_async.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dump_to_file</strong> (<em>bool</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, results will be stored in file, false by default.</p></li>
<li><p><strong>output_file</strong> (<em>str</em>) – Name of the output file if dump_to_file is True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Table with the results if dump_to_file is False.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>astroquery.table.table.Table</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scludam.fetcher.Query.count">
<span class="sig-name descname"><span class="pre">count</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scludam/fetcher.html#Query.count"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scludam.fetcher.Query.count" title="Permalink to this definition"></a></dt>
<dd><p>Execute the count query.</p>
<p>It launches an asynchronous gaia job. It takes some time
to execute the query and parse the results. It only returns
a table with a single count_all column. Parameters are
passed through kwargs to astroquery.gaia.Gaia.launch_job_async.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dump_to_file</strong> (<em>bool</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, results will be stored in file, false by default.</p></li>
<li><p><strong>output_file</strong> (<em>str</em>) – Name of the output file if dump_to_file is True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>table with the results if dump_to_file is False</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>astroquery.table.table.Table</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scludam.fetcher.search_objects_near_data">
<span class="sig-prename descclassname"><span class="pre">scludam.fetcher.</span></span><span class="sig-name descname"><span class="pre">search_objects_near_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_missing_values</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scludam/fetcher.html#search_objects_near_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scludam.fetcher.search_objects_near_data" title="Permalink to this definition"></a></dt>
<dd><p>Search for objects in an area defined by dataframe.</p>
<p>search all simbad objects in an area
defined by a dataframe by the maxs and mins
of the columns in the dataframe with GAIA
colnames.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – dataframe with GAIA data. Must contain
ra and dec columns. May also contain “pmra”, “pmdec”, “parallax”,
“phot_g_mean_mag”, “phot_rp_mean_mag”, “phot_bp_mean_mag”. Other
fields are ignored</p></li>
<li><p><strong>allow_missing_values</strong> (<em>bool, optional</em>) – Allow simbad objects with missing value for the columns in the
dataframe to appear in the result table, by default True.</p></li>
<li><p><strong>fields</strong> (<em>list, optional</em>) – extra simbad fields to add, apart from
<code class="docutils literal notranslate"><span class="pre">[&quot;parallax&quot;,</span> <span class="pre">&quot;propermotions&quot;,</span> <span class="pre">&quot;diameter&quot;,</span>
<span class="pre">&quot;fluxdata(G)&quot;,</span> <span class="pre">&quot;fluxdata(B)&quot;,</span> <span class="pre">&quot;fluxdata(R)&quot;]</span></code>,
by default []</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Simbad result table. RA and DEC columns
are parsed into degrees with decimal places.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>astroquery.table.table.Table</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – No supported columns present in the dataframe.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scludam.fetcher.simbad2gaiacolnames">
<span class="sig-prename descclassname"><span class="pre">scludam.fetcher.</span></span><span class="sig-name descname"><span class="pre">simbad2gaiacolnames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Table</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scludam/fetcher.html#simbad2gaiacolnames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scludam.fetcher.simbad2gaiacolnames" title="Permalink to this definition"></a></dt>
<dd><p>Convert a simbad table colnames to a gaia table colnames.</p>
<p>Only supports translation for ‘RA’, ‘DEC’, ‘PMRA’, ‘PMDEC’,
‘PLX_VALUE’, ‘FLUX_G’, ‘FLUX_R’, ‘FLUX_B’. It also adds
‘bp_rp’ if ‘FLUX_B’ and ‘FLUX_R’ are present.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>table</strong> (<em>astroquery.table.table.Table</em>) – simbad table</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>gaia table</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>astroquery.table.table.Table</p>
</dd>
</dl>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="scludam.detection.html" class="btn btn-neutral float-left" title="scludam.detection module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="scludam.hkde.html" class="btn btn-neutral float-right" title="scludam.hkde module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Simón Pedro González.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>